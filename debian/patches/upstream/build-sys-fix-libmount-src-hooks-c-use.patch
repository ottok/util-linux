From: Karel Zak <kzak@redhat.com>
Date: Mon, 18 Sep 2023 13:08:57 +0200
Subject: build-sys: fix libmount/src/hooks.c use

Reported-by: Samuel Thibault <samuel.thibault@aquilenet.fr>
Signed-off-by: Karel Zak <kzak@redhat.com>
---
 libmount/meson.build       | 1 -
 libmount/src/Makemodule.am | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

diff --git a/libmount/meson.build b/libmount/meson.build
index c52e2be..55de27b 100644
--- a/libmount/meson.build
+++ b/libmount/meson.build
@@ -17,7 +17,6 @@ configure_file(
 lib_mount_sources = '''
   src/mountP.h
   src/cache.c
-  src/hooks.c
   src/fs.c
   src/init.c
   src/iter.c
diff --git a/libmount/src/Makemodule.am b/libmount/src/Makemodule.am
index d474aea..367bc46 100644
--- a/libmount/src/Makemodule.am
+++ b/libmount/src/Makemodule.am
@@ -11,7 +11,6 @@ libmount_la_SOURCES = \
 	libmount/src/mountP.h \
 	libmount/src/cache.c \
 	libmount/src/fs.c \
-	libmount/src/hooks.c \
 	libmount/src/init.c \
 	libmount/src/iter.c \
 	libmount/src/lock.c \
@@ -31,6 +30,7 @@ libmount_la_SOURCES += \
 	libmount/src/context.c \
 	libmount/src/context_mount.c \
 	libmount/src/context_umount.c \
+	libmount/src/hooks.c \
 	libmount/src/hook_mount.c \
 	libmount/src/hook_mount_legacy.c \
 	libmount/src/hook_mkdir.c \
